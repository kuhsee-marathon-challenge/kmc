* Notizen
- url: https://kuhsee-marathon-challenge.github.io/kmc/

- Race Results Anmeldung:
  - 2025: https://my.raceresult.com/341874/registration

** Tabelle
Ich habe die folgenden Felder hinzugef√ºgt (~Hauptfenster~ \to ~Teilnehmerdaten~ \to ~Zusatzfelder~):
| Type     | Name             |                      |                                            |
|----------+------------------+----------------------+--------------------------------------------|
| Checkbox | Warteliste       | 0: normale Anmeldung | 1: Auf Warteliste                          |
| Checkbox | MedailleBezahlt  | 0: offen             | 1: bezahlt                                 |
| Datum    | MedailleErhalten | nicht erhalten       | Datum, an dem die Medaille √ºbergeben wurde |
| Checkbox | Absage           | 0: keine Absage      | 1: Absage durch L√§ufer                     |

Im Men√º ~Teilnehmer~ kann findet man nun bei den Teilnehmer unten ~INFORMATIONEN~ und dort Checkboxen bzw. Eingabemasgen f√ºr die neuen Felder.

** Formulare
Es gibt zwei Anmeldeformulare, f√ºr eine ~Einzel-Anmeldung~ bis 50 Teilnehmer und eine f√ºr die ~Wartelisten-Anmeldung~ bis 100 Teilnehmer (~Hauptfenster~ \to ~Anmelde-Formulare~).

Bei der ~Wartelisten-Anmeldung~ wird unter ~Aktionen nach Speichern~ das Feld ~Warteliste~ automatisch auf ~1~ gesetzt.

Unter ~my.raceresults.com~ \to ~Seite "Anmeldung"~ \to ~ANMELDE-FORMULARE~ kann die ~Wartelisten-Anmeldung~ hinzugef√ºgt werden, sobald die maximale Teilnehmerzahl der ~Einzel-Anmeldung~ erreicht ist.

** Ausgabe
√úber das Men√º ~Ausgabe~ \to ~ONLINE~ findet man die Einstellungen f√ºr Online Tabellen√ºbersichten.
Man kann sich die Tabellenausgaben unter ~Ansicht~ anzeigen lassen oder herunterladen.
- Unter ~Teilnehmer Kurz~ kann konfiguriert werden, welche Teilnehmer angezeigt werden.
  Hier muss man die Felder ~Warteliste~ und ~Absage~ auf ~0~ pr√ºfen.
- Unter ~Warteliste Kurz~ findet man alle Teilnehmer, die in der Warteliste stehen.
- Unter ~Absagen Kurz~ findet man alle abgesagten Teilnehmer.

Im Men√º ~Ausgabe~ \to ~TEILNEHMERLISTEN~ sind folgende Ausgaben definiert:
- ~Meldeliste ABC~: Alle gemeldeten Teilnehmer alphabetischer Reihenfolge.
- ~Teilnehmerliste 123~: Alle Teilnehmer die nicht abgemeldet sind und nicht auf der Warteliste stehen in numerischer Reihenfolge.
- ~Nicht-Teilnehmerliste 123~: Alle Teilnehmer die abgemeldet sind oder auf der Warteliste stehen in numerischer Reihenfolge.
- ~Teilnehmerliste RB~: definiert eine Abfrageliste, z.B. f√ºr Ruby.
  Dazu ist diese Liste unter ~Hauptfenster~ \to ~Zugriffsrechte/Freigabe~ \to ~FREIGABE (SIMPLEAPI)~ freigegeben als:
  - Typ: Liste
  - Details: Teilnehmerliste RB
  - JSON ext
  Mit einem Klick auf ~Link~ werden die JSON-Daten und der ben√∂tigte Link angezeigt.

** Warteliste

Die Teilnehmer mit eine BIB <= 50 hatten sich regul√§r angemeldet, ab BIB 51 √ºber die Warteliste. Letztere haben das Feld ~Warteliste~ auf ~1~.

Sobald ein Teilnehmer absagt wird das Feld ~Absage~ auf ~1~ gesetzt.

Mit dem Skript ~nachruecken.rb~ kann ermittelt werden, wer als Ersatz √ºbernommen werden kann:
#+begin_src sh :exports result :results output
ruby nachruecken.rb
#+end_src

#+RESULTS:
#+begin_example
Absagen:
 BIB 32

Nachger√ºckt:
 BIB 51

Warteliste:
 BIB 52
 BIB 53

Keine Nachr√ºcker m√∂glich

Gesamt Anmeldungen:     53
   aktive Teilnehmer:   50
   absagen:             1
   Nachr√ºcker:          1
   auf Warteliste:      2
   m√∂gliche Nachr√ºcker: 0
#+end_example

** Mail-Templates
*** Abmeldung wegen Krankheit
#+begin_example
Hallo,

vielen Dank f√ºr Deine Nachricht ‚Äì sehr schade, dass Du dieses Jahr nicht dabei sein kannst! Wir haben Dich wie gew√ºnscht aus der Teilnehmerliste ausgetragen.

F√ºr Deine Gesundheit w√ºnschen wir Dir alles Gute und eine schnelle, vollst√§ndige Genesung. Wir w√ºrden uns sehr freuen, Dich 2026 wieder am Start zu sehen!

Sportliche Gr√º√üe
Dieter & Frank
#+end_example
*** Nachr√ºckung
#+begin_example
Servus,

gute Nachrichten: Du bist von der Warteliste in die Teilnehmerliste nachger√ºckt ‚Äì willkommen bei der Kuhsee Marathon Challenge! üéâ

Wir freuen uns sehr, dass Du dabei bist und w√ºnschen Dir viel Spa√ü bei der Vorbereitung. Falls Du noch Fragen hast, melde Dich jederzeit gerne.

Sportliche Gr√º√üe
Frank
#+end_example
